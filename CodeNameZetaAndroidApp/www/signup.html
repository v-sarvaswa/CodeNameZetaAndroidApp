
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#000000">
    <title>Code Name Zeta</title>
    <link rel="stylesheet" href="css/framework7.material.css">
    <link rel="stylesheet" href="css/framework7.material.colors.css">
    <link href="http://fonts.googleapis.com/css?family=Roboto:400,300,500,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/material-icons.css">
    <link rel="stylesheet" href="css/kitchen-sink.css">
    <link rel="stylesheet" href="css/materialPreloader.css">
    <link rel="stylesheet" href="css/sso.css">
    <link rel="stylesheet" href="css/parsley.css">
    <link rel="icon" href="img/icon.png">
    <script type="text/javascript" src="js/localforage.min.js"></script>
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/synapse.js"></script>
    <script type="text/javascript" src="js/materialPreloader.min.js"></script>
    <script>
        localforage.setItem('app', 'codenamezeta', function (err) {
            localforage.getItem('app', function (err, value) {
                if (value == 'codenamezeta')
                {
                    localforage.setItem('developers', 'hexaxle', function (err) {
                    });
                }
            });
        });
    </script>
</head>
<body class="theme-black">
    <div class="statusbar-overlay"></div>
    <div class="panel-overlay"></div>
    <div class="views">
        <div class="view view-main">
            <div class="pages navbar-fixed">
                <div data-page="signup" class="page">
                    <div class="navbar">
                        <div class="navbar-inner">
                            <div class="center">Zeta</div>
                        </div>
                    </div>
                    <div class="page-content">
                        <div class="overlay-load"></div>
                        <div class="content-block-title" style="padding: 0px;font-weight:800;font-size: 22px;overflow: visible;text-align: center;">Sign Up</div>
                        <form data-parsley-validate class="list-block inputs-list" style="margin-bottom: 12px;">
                            <ul>
                                <li>
                                    <div class="item-content">
                                        <div class="item-media"><i id="nameIcon" class="icon material-icons">person_outline</i></div>
                                        <div class="item-inner">
                                            <div class="item-title floating-label" id="lbluserName">Your name</div>
                                            <div class="item-input">
                                                <input type="text" id="userName" name="userName" placeholder="" />
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-media"><i id="emailIcon" class="icon material-icons">email</i></div>
                                        <div class="item-inner">
                                            <div class="item-title floating-label" id="lbluserEmail">E-mail</div>
                                            <div class="item-input">
                                                <input type="email" id="userEmail" name="userEmail" placeholder="" />
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-media"><i id="passwordIcon" class="icon material-icons">lock_outline</i></div>
                                        <div class="item-inner">
                                            <div class="item-title floating-label" id="lbluserPassword">Password</div>
                                            <div class="item-input">
                                                <input type="password" id="userPassword" name="userPassword" placeholder="" />
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-media"><i id="confirmPwdIcon" class="icon material-icons">lock_outline</i></div>
                                        <div class="item-inner">
                                            <div class="item-title floating-label" id="lbluserConfirmPassword">Confirm Password</div>
                                            <div class="item-input">
                                                <input type="password" id="userConfirmPassword" name="userConfirmPassword" placeholder="" />
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="content-block center" style="margin: 20px 0;">
                                <a href="#" id="btnSignUP" name="btnSignUP" class="button button-fill button-raised color-black center external" style="width:50%; margin:auto;">Sign me up!</a>
                            </div>
                        </form>
                        <div class="content-block-title center" style="text-align: center; padding: 0px; margin: 0px;">
                            <img src="img/hzdivider-right.png" style="vertical-align: middle;" />
                            &nbsp;
                            <span>or log in with</span>
                            &nbsp;
                            <img src="img/hzdivider-left.png" style="vertical-align: middle;" />
                            <br /><br />
                            <button class="loginBtn loginBtn--facebook" style="margin-top: 15px;">
                                Facebook
                            </button>
                            <button class="loginBtn loginBtn--google" style="margin-top: 15px;">
                                Google
                            </button>
                            <br /><br /><br />
                            <span style="vertical-align:middle; font-size:18px;">Already have an account? </span><a href="#" class="external center" style="margin: 10px auto; color: #000000;text-decoration:underline; vertical-align:middle; font-size:18px; font-weight:800; line-height: 19px;">Sign in</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" data-main="scripts/startup" src="lib/require.2.1.8.js" async></script>
        <script type="text/javascript" src="js/framework7.js"></script>
        <script type="text/javascript" src="js/kitchen-sink.js"></script>
        <script type="text/javascript" src="js/my-app.js"></script>
        <script type="text/javascript" src="js/parsley.min.js"></script>
        <script>
            $(document).ready(function () {
               
                preloader = new $.materialPreloader({
                    position: 'top',
                    height: '8px',
                    col_1: '#000000',
                    col_2: '#cccccc',
                    col_3: '#e5e5e5',
                    col_4: '#999999',
                    fadeIn: 1,
                    fadeOut: 1
                });

                preloader.off();

                $("#userName").focus(function () {
                    $("#lbluserName").empty();
                    $("#lbluserName").append("Enter your full name");
                });

                $("#userName").focusout(function () {
                    $("#lbluserName").empty();
                    $("#lbluserName").append("Your name");
                });

                $("#userEmail").focus(function () {
                    $("#lbluserEmail").empty();
                    $("#lbluserEmail").append("Valid e-mail address");
                });

                $("#userEmail").focusout(function () {
                    $("#lbluserEmail").empty();
                    $("#lbluserEmail").append("E-mail");
                });

                $("#userPassword").focus(function () {
                    $("#lbluserPassword").empty();
                    $("#lbluserPassword").append("Strong password of minimum 6 digits");
                });

                $("#userPassword").focusout(function () {
                    $("#lbluserPassword").empty();
                    $("#lbluserPassword").append("Password");
                });

                $("#userConfirmPassword").focus(function () {
                    $("#lbluserConfirmPassword").empty();
                    $("#lbluserConfirmPassword").append("Enter the password again");
                });

                $("#userConfirmPassword").focusout(function () {
                    $("#lbluserConfirmPassword").empty();
                    $("#lbluserConfirmPassword").append("Confirm Password");
                });

                $("#btnSignUP").click(function ()
                {
                    preloader.on();
                    var validationCount = 0;
                    var name = $("#userName").val();
                    var email = $("#userEmail").val();
                    var password = $("#userPassword").val();
                    var confirmPassword = $("#userConfirmPassword").val();
                    var loginType = "normal";

                    if (isEmail(email))
                    {
                        validationCount++;
                        $("#emailIcon").css('color', '#757575');
                        $("#userEmail").css('color', '#212121');
                    }
                    else
                    {
                        $("#emailIcon").css('color', 'red');
                        $("#userEmail").css('color', 'red');
                    }

                    if (passwordRequiredLength(password,6) && passwordRequiredLength(confirmPassword,6) && passwordCheck(password, confirmPassword))
                    {
                        validationCount++;
                        $("#passwordIcon").css('color', '#757575');
                        $("#confirmPwdIcon").css('color', '#757575');
                        $("#userPassword").css('color', '#212121');
                        $("#userConfirmPassword").css('color', '#212121');
                    }
                    else
                    {
                        $("#passwordIcon").css('color', 'red');
                        $("#confirmPwdIcon").css('color', 'red');
                        $("#userPassword").css('color', 'red');
                        $("#userConfirmPassword").css('color', 'red');
                    }

                    if (required(name))
                    {
                        validationCount++;
                        $("#nameIcon").css('color', '#757575');
                        $("#userName").css('color', '#212121');
                    }
                    else
                    {
                        $("#nameIcon").css('color', 'red');
                        $("#userName").css('color', 'red');
                    }

                    if (validationCount == 3)
                    {
                        preloader.on();
                        ajax('json', { trigger: 'register', usertype: 'enduser' },
                            { name: name, email: email, password: password, loginType: loginType },
                            function (data) {
                                var res = data["response"];
                                if (res == "success")
                                {
                                    var user_id = data["user_id"];
                                    localforage.setItem('user_id', user_id, function (err) {
                                        localforage.setItem('user_stage', '1', function (err) {
                                            localforage.setItem('user_name', name, function (err) {
                                                localforage.setItem('user_email', email, function (err) {
                                                    localforage.setItem('user_loginType', loginType, function (err) {
                                                        window.location.href = "signup_verify.html";
                                                    });
                                                });
                                            });
                                        });
                                    });
                                }
                                if (res == "emailExist")
                                {
                                    preloader.off();
                                    var user_email = data["user_email"];
                                    localforage.setItem('user_email', user_email, function (err) {
                                        myApp.addNotification({
                                            message: 'Email-Id already Exist',
                                            closeIcon: false,
                                            hold: 2000
                                        });
                                    });
                                }
                                if (res == "insufficient_data")
                                {
                                    preloader.off();
                                    myApp.addNotification({
                                        message: 'Insufficient Data',
                                        closeIcon: false,
                                        hold: 2000
                                    });
                                }
                            },
                            function (xhr, errorType, error) {
                                console.log('Error Type: ' + errorType + ', Error: ' + error);
                            }
                        );
                    }
                    else
                    {
                        preloader.off();
                        myApp.addNotification({
                            message: 'Please check highlighted fields!',
                            closeIcon: false,
                            hold: 2000
                        });
                    }
                });
            });
        </script>
</body>
</html>